(function(l){var f={};l.requestAnimationFrame=l.requestAnimationFrame||l.mozRequestAnimationFrame||l.webkitRequestAnimationFrame||l.msRequestAnimationFrame;f.id=function(a){a.width=a.parentElement.clientWidth;a.height=240};var u=function(a){return a*a*a},v=function(a){return 1-(1-a)*(1-a)*(1-a)},p=function(a,b,c,d,e,g,h){return 0>=h?"rgb("+a.toString()+","+b.toString()+","+c.toString()+")":1<=h?"rgb("+d.toString()+","+e.toString()+","+g.toString()+")":"rgb("+Math.round(a+(d-a)*h).toString()+
","+Math.round(b+(e-b)*h).toString()+","+Math.round(c+(g-c)*h).toString()+")"},q=function(a,b,c){return 0>=c?a:1<=c?b:a+(b-a)*c},z=function(){return Date.now()},n=function(a,b,c,d,e){var g=e-d+1,h=(d+e)/2;a=a[e]-a[d-1];b=b[e]-b[d-1];var f=(e*(e+1)*(e+e+1)-d*(d-1)*(d+d-1))/6;return[(b-h*a)/(f-g*h*h),1-Math.pow((g*b-g*h*a)/Math.sqrt((g*f-g*g*h*h)*(g*(c[e]-c[d-1])-a*a)),6)]};f.ce=function(){var a="---";if(8<this.rc.length){for(var b=[0,0,0,0,0,0,0,0],c=0;8>c;++c)b[c]=this.rc[this.rc.length-1-c]-this.rc[this.rc.length-
2-c];b.sort(function(a,b){return a-b});b[7]-b[0]<=.5*b[7]&&(a=Math.round((6E4/((b[3]+b[4])/2)+6E4/((this.rc[this.rc.length-1]-this.rc[this.rc.length-9])/8))/2).toString())}for(;3>a.length;)a=" "+a;this.last_eststr=this.cur_eststr;this.cur_eststr=a};f.process_pat=function(a){-1===this.startt&&(this.startt=a);a-=this.startt;this.rc.push(a);this.ce();this.psum[this.rc.length-1]=this.psum[this.rc.length-2]+a;this.pwgh[this.rc.length-
1]=this.pwgh[this.rc.length-2]+a*(this.rc.length-1);this.psqr[this.rc.length-1]=this.psqr[this.rc.length-2]+a*a;a=[];var b=[],c,d,e;a[1]=8>this.rc.length?Infinity:n(this.psum,this.pwgh,this.psqr,2,this.rc.length-3)[1];b[1]=-1;for(var g=2;10>g;++g){d=Infinity;e=-1;for(var h=0;h<this.rc.length-8;++h)c=this.dy[h][g-1]+n(this.psum,this.pwgh,this.psqr,h+3,this.rc.length-3)[1],d>c&&(d=c,e=h);a[g]=d;b[g]=e}this.dy[this.rc.length-
1]=a;this.dyr[this.rc.length-1]=b};f.cr=function(){for(var a=Infinity,b=-1,c=1;10>c;++c)a>this.dy[this.rc.length-1][c]&&(a=this.dy[this.rc.length-1][c],b=c);a=[];for(c=this.rc.length-1;-1!==c;c=this.dyr[c][b--])a.push(c);a.push(0);a.reverse();this.fr=[];for(c=1;c<a.length;++c)this.fr.push([a[c],6E4/n(this.psum,this.pwgh,this.psqr,a[c-1]+2,a[c]-2)[0]]);console.log(this.fr)};f.dhae=
function(a){var b=this.cv.clientWidth,c=this.cv.clientHeight,d=Math.ceil(b/160)+1;this.dc.fillStyle="#bbbb88";for(var e=this.lpi?-1:0;e<Math.min(d,this.rc.length-1);++e){this.dc.beginPath();var g=b-160*e-80+(this.lpi?-1:1)*Math.max(0,Math.pow(1-a/200,3))*160+10,h=c-c*(this.lpi&&-1===e?this.last_undo_record-this.rc[this.rc.length-1]:this.rc[this.rc.length-1-e]-this.rc[this.rc.length-2-e])/1500;if(this.fi)if(g=
b-160*e-70,300>a)var f=a/300,h=h+(c+10-h)*f*f*(3.5*f-2.5);else h=c+10;this.dc.arc(g,h,10,0,2*Math.PI);this.dc.fill();this.dc.fillRect(g-3.09,h,6.18,c-h)}this.dc.fillStyle=this.fi?"rgba(135, 135, 85, "+(1-a/100).toString()+")":"#999955";this.dc.font="34px Droid Sans Mono, Source Code Pro, Menlo, Courier New, Monospace";this.dc.textBaseline="bottom";d=this.dc.measureText("Est.");this.dc.fillText("Est.",b-d.width-6,.5*c);this.dc.font="64px Droid Sans Mono, Source Code Pro, Menlo, Courier New, Monospace";
this.dc.textBaseline="top";d=this.dc.measureText("m");for(e=0;3>e;++e)!this.fi&&200>a&&this.cur_eststr[e]!==this.last_eststr[e]?(g=this.cur_eststr[e]<this.last_eststr[e]?1:-1,this.dc.fillStyle="rgba(135, 135, 85, "+(1-a/200).toString()+")",this.dc.fillText(this.last_eststr[e],b-d.width*(3-e)-6,.5*c+20*g*u(a/200)),this.dc.fillStyle="rgba(135, 135, 85, "+(a/200).toString()+")",this.dc.fillText(this.cur_eststr[e],b-d.width*(3-e)-6,.5*c-20*g*(1-v(a/200)))):this.dc.fillText(this.cur_eststr[e],
b-d.width*(3-e)-6,.5*c)};var r=function(a){var b=a.v*a.s,c=a.h/60,d=b*(1-Math.abs(c%2-1)),e=0,g=0,f=0;switch(!0){case 5<=c:e=b;f=d;break;case 4<=c:e=d;f=b;break;case 3<=c:g=d;f=b;break;case 2<=c:g=b;f=d;break;case 1<=c:e=d;g=b;break;case 0<=c:e=b,g=d}return{r:Math.floor(255*(e+a.v-b)),g:Math.floor(255*(g+a.v-b)),b:Math.floor(255*(f+a.v-b))}},t=function(a){if(1500>a){var b=300-195E3/1650;300>a&&(a=300);a=(a-300)/1200;return r({h:b+(300-b)*(1-a),s:(30+(30+45500/1650-30)*a)/100,v:(50+(50+32500/1650-
50)*a)/100})}2500<a&&(a=2500);return r({h:300-300*(a-850)/1650,s:(30+70*(a-850)/1650)/100,v:(50+50*(a-850)/1650)/100})};f.df=function(a){var b=this.cv.clientWidth,c=this.cv.clientHeight;this.dc.fillStyle="rgba(0, 0, 0, 128)";if(!this._p_x){this._p_x=[4];this._p_y=[c-4];for(var d=1;d<this.rc.length;++d)this._p_x[d]=4+(b-8)*d/(this.rc.length-1),this._p_y[d]=c-4-(c-8)*this.rc[d]/this.rc[this.rc.length-1]}for(var e=Math.min(this.rc.length,Math.floor((a-
300)/1200*this.rc.length)),d=0;d<e;++d)this.dc.beginPath(),this.dc.arc(this._p_x[d],this._p_y[d],4,0,2*Math.PI),this.dc.fill(),0<d&&(this.dc.beginPath(),this.dc.moveTo(this._p_x[d-1],this._p_y[d-1]),this.dc.lineTo(this._p_x[d],this._p_y[d]),this.dc.stroke());if(1500>a){var g=(a-300)/1200*this.rc.length-e;this.dc.beginPath();this.dc.arc(this._p_x[e],this._p_y[e],4*g,0,2*Math.PI);this.dc.fill();0<e&&(this.dc.beginPath(),this.dc.moveTo(this._p_x[d-
1],this._p_y[d-1]),this.dc.lineTo(q(this._p_x[d-1],this._p_x[d],g),q(this._p_y[d-1],this._p_y[d],g)),this.dc.stroke())}else if(2E3<a){for(var f=this.dg?Math.max(0,1-(z()-this.dstartt)/180):Math.max(0,Math.min(1,(z()-this.dendt-3E3)/180)),e=Math.min(this.fr.length-1,Math.floor((a-2E3)/180)),l=0,m,d=0;d<=e;++d){var g=Math.min(1,(a-(2E3+180*d))/180),k=t(10*this.fr[d][1]+420);m=this.fr[d][0]/(this.rc.length-1)*b;this.dc.fillStyle=
"rgba("+k.r+","+k.g+","+k.b+", "+(.3*g*f).toString()+")";this.dc.fillRect(l,0,m-l,c);this.dc.fillStyle="rgba(0, 0, 0, "+(.66*g*f).toString()+")";this.dc.font="44px Droid Sans Mono, Source Code Pro, Menlo, Courier New, Monospace";this.dc.textBaseline="middle";k=Math.round(this.fr[d][1]).toString();g=this.dc.measureText(k).width;this.dc.fillText(k,(l+m-g)/2,c*(.382+.05*d));this.dc.font="24px Droid Sans Mono, Source Code Pro, Menlo, Courier New, Monospace";
k=(this.fr[d][1]-Math.round(this.fr[d][1])).toFixed(2);"-"!==k[0]&&(k="+"+k);g=this.dc.measureText(k).width;this.dc.fillText(k,(l+m-g)/2,c*((5>=d?.502:.262)+.05*d));l=m}a>2E3+180*this.fr.length&&(this.ird=!0)}if(this.dg||this.dendt>=z()-3E3)this.dg?a={r:0,g:0,b:0}:(a={r:0,g:0,b:0},b=t(6E4/this.dre[0]*10+420),e=(z()-this.dendt)/180,a=0>=e?a:1<=e?b:{r:Math.round(a.r+(b.r-a.r)*e),g:Math.round(a.g+
(b.g-a.g)*e),b:Math.round(a.b+(b.b-a.b)*e)}),k=a,a=this.dg?1:Math.min(1,(3E3-z()+this.dendt)/180),this.dc.fillStyle="rgba("+k.r+","+k.g+","+k.b+", "+(.3*a).toString()+")",b=Math.min(this.dstart_x,this.crx),this.dc.fillRect(b,0,Math.max(this.dstart_x,this.crx)-b,c),this.dg||(a=Math.min(a,(z()-this.dendt)/180),this.dc.fillStyle="rgba(0, 0, 0, "+(.66*a).toString()+")",this.dc.font="44px Droid Sans Mono, Source Code Pro, Menlo, Courier New, Monospace",
k=(6E4/this.dre[0]).toFixed(2),g=this.dc.measureText(k).width,this.dc.fillText(k,(this.dstart_x+this.dend_x-g)/2,c*(.382+.05*d)),this.dc.font="24px Droid Sans Mono, Source Code Pro, Menlo, Courier New, Monospace",k="err "+(100*this.dre[1]).toFixed(2)+"%",g=this.dc.measureText(k).width,this.dc.fillText(k,(this.dstart_x+this.dend_x-g)/2,c*((5>=d?.502:.262)+.05*d)))};f.hmd=function(a){this.ird&&(a=a.clientX-
this.cv.offsetLeft,this.dg=!0,this.crx=this.dstart_x=a,this.dstartt=z(),this.dendt>=z()-3E3&&(this.dstartt-=180),this.dendt=-1,l.requestAnimationFrame(this.tk))};f.hmm=function(a){this.dg&&(this.crx=a.clientX-this.cv.offsetLeft)};f.hmu=function(a){if(this.ird){var b=this.cv.clientWidth;a=a.clientX-this.cv.offsetLeft;this.dg=!1;this.dendt=
z();this.dend_x=a;a=Math.min(this.rc.length-1,Math.max(0,Math.ceil((Math.min(this.dstart_x,this.dend_x)-4)/((b-8)/(this.rc.length-1)))));b=Math.min(this.rc.length-1,Math.max(0,Math.floor((Math.max(this.dstart_x,this.dend_x)-4)/((b-8)/(this.rc.length-1)))));b<a+1&&(this.dendt-=3E3);this.dre=n(this.psum,this.pwgh,this.psqr,a,b)}};f.rd=function(){var a=this.cv.clientWidth,b=this.cv.clientHeight,c=z()-
this.lp;this.dc.clearRect(0,0,a,b);this.dc.fillStyle=this.fi?p(255,255,204,255,255,255,c/100):0===this.rc.length?"#ccddaa":1!==this.rc.length||this.lpi?"#ffffcc":p(204,221,170,255,255,204,c/100);this.dc.fillRect(0,0,a,b);0!==this.rc.length&&(this.fi?(400<c?this.df(c-100):this.dhae(c),(c<2200+180*this.fr.length||this.dg||this.dendt>z()-4E3)&&l.requestAnimationFrame(this.tk)):
(this.dhae(c),200>c&&l.requestAnimationFrame(this.tk)))};f.pat=function(){this.fi||(this.lp=z(),this.lpi=!1,this.process_pat(this.lp),l.requestAnimationFrame(this.tk))};f.undo=function(){1>=this.rc.length||this.fi||(this.lp=z(),this.lpi=!0,this.last_undo_record=this.rc[this.rc.length-1],this.rc.pop(),this.ce(),l.requestAnimationFrame(this.tk))};f.finish=function(){8>
this.rc.length||(this.fi=!0,this.lp=z(),this.cr(),l.requestAnimationFrame(this.tk))};f.create=function(a){if("string"!==typeof a)console.log("");else{a=document.getElementById(a);if(!a||"CANVAS"!==a.tagName.toUpperCase())return console.log(""),!1;f.id(a);var b={};b.cv=a;b.dc=a.getContext("2d");b.lp=z();b.lpi=!1;b.last_undo_record=
-1;b.last_eststr="---";b.cur_eststr="---";b.startt=-1;b.rc=[];b.psum=[];b.psum[-1]=0;b.pwgh=[];b.pwgh[-1]=0;b.psqr=[];b.psqr[-1]=0;b.dy=[];b.dyr=[];b.fi=!1;b.ird=!1;b.ce=f.ce;b.process_pat=f.process_pat;b.cr=f.cr;b.dhae=f.dhae;b.df=f.df;b.rd=f.rd;b.pat=f.pat;b.undo=f.undo;b.finish=f.finish;
b.tk=function(a){return function(){a.rd()}}(b);l.requestAnimationFrame(b.tk);b.dg=!1;b.dstart_x=-1;b.dstartt=-1;b.crx=-1;b.dendt=-1;b.dre=[0,0];b.hmd=f.hmd;a.addEventListener("mousedown",function(a){return function(b){a.hmd(b)}}(b));b.hmm=f.hmm;a.addEventListener("mousemove",function(a){return function(b){a.hmm(b)}}(b));b.hmu=f.hmu;
a.addEventListener("mouseup",function(a){return function(b){a.hmu(b)}}(b));return b}};l.bpm=f})(window);
